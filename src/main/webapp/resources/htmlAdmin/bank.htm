<h3>Správa bank</h3>

<br/>
<form ng-submit="createBank()" class="form-group" name="bankForm"> 
<div class="form-group">
<label for="bankNameInput">Název banky:</label>
<input type="text" ng-model="BankObj.bankName" class="form-control" 
       id="bankNameInput" placeholder="Název banky" 
       maxlength="100" required style="width:40%">
<label for="codeInput">Kód banky:</label>       
<input type="text" minlength="4" maxlength="4" ng-model="BankObj.code" class="form-control" 
       id="codeInput" placeholder="Kód banky"  
       required style="width:25%"
       onkeypress='return event.charCode >= 48 && event.charCode <= 57'>
<label for="swiftInput">Kód swift:</label>       
<input type="text" maxlength="20" ng-model="BankObj.swift" class="form-control" 
       id="swiftInput" placeholder="Kód swift"  
       required style="width:25%">       
</div>
<button type="submit" class="btn btn-success" ng-disabled="bankForm.$invalid" id="createButton">
<span class="glyphicon glyphicon-plus"></span> Přidat
</button> 
</form>
<p></p>

<div ng-init="getAllBank()"> 

  <script type="text/ng-template" id="display">
    <td>{{ bank.bankName }}</td>
    <td>{{ bank.code }}</td>
    <td>{{ bank.swift }}</td>
    <td>
      <button type="button" ng-click="editRow(bank)" class="btn btn-primary"> 
       <span class="glyphicon glyphicon-pencil"></span> Edituj
      </button>
      <button type="button" ng-click="removeBank(bank)" class="btn btn-danger">
       <span class="glyphicon glyphicon-trash"> Smaž
      </button>
   </td>
  </script>
 <script type="text/ng-template" id="edit">
    <td><input type="text" ng-model=bank.bankName class="form-control input-sm"/></td>
    <td><input type="text" ng-model=bank.code class="form-control input-sm"/></td>
    <td><input type="text" ng-model=bank.swift class="form-control input-sm"/></td>
    <td>
     <button type="button" class="btn btn-primary" ng-click="updateBank(bank)">
      <span class="glyphicon glyphicon-floppy-save"> Ulož
     </button>
     <button type="button" class="btn btn-danger" ng-click="reset(bank)">
      <span class="glyphicon glyphicon-remove-sign"> Zruš
    </button>
    </td>
   </script>

<table st-table="allBank" st-safe-src="rowCollection" class="table table-striped table-hover" >
   <thead>
   <tr>
    <th style="width:30%">Název banky</th>   
    <th style="width:11%">Kód banky</th>   
    <th style="width:10%">Kód swift</th>  
    <th style="width:16%">Editace/Mazání</th>
   </tr> 
   <tr>
	<th><input st-search="bankName" placeholder="hledej název banky" class="input-sm form-control" type="search"></th>
  <th><input st-search="code" placeholder="hledej kód banky" class="input-sm form-control" type="search"></th>
  <th><input st-search="swift" placeholder="hledej swift" class="input-sm form-control" type="search"></th>
   </tr>
   </thead>
   
 <tbody> 
  <tr ng-repeat="bank in allBank" ng-include="getTemplate(bank)"></tr>
  </tbody> 
  
  <tfoot>
	<tr>
		<td colspan="3" class="text-center">
		<div st-pagination="" st-items-by-page="10" st-displayed-pages="10"></div> 
		</td>
	</tr>
  </tfoot>
  
</table>


</div>